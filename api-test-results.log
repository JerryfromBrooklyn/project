API Test Started at 2025-04-09T13:24:48.098Z

=== Starting API Tests ===
Testing POST /api/login...
Status: 404
Response: ""
Testing POST /api/register...
Status: 404
Response: ""
Testing POST /api/face/register...
Status: 404
Response: ""
Testing GET /api/user/face-data?userId=test-user-id...
Status: 200
Response: "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\n    <script type=\"module\">\nimport RefreshRuntime from \"/@react-refresh\"\nRefreshRuntime.injectIntoGlobalHook(window)\nwindow.$RefreshReg$ = () => {}\nwindow.$RefreshSig$ = () => (type) => type\nwindow.__vite_plugin_react_preamble_installed__ = true\n</script>\n\n    <script type=\"module\" src=\"/@vite/client\"></script>\n\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, viewport-fit=cover\" />\r\n    <meta name=\"theme-color\" content=\"#ffffff\" />\r\n\r\n    <!-- Cache Control Headers -->\r\n    <meta http-equiv=\"Cache-Control\" content=\"no-cache, no-store, must-revalidate\" />\r\n    <meta http-equiv=\"Pragma\" content=\"no-cache\" />\r\n    <meta http-equiv=\"Expires\" content=\"0\" />\r\n\r\n    <title>SHMONG - Find Your Event Photos Instantly</title>\r\n    <meta name=\"description\" content=\"SHMONG uses advanced facial recognition to help you find your photos from events instantly.\" />\r\n    <!-- iOS PWA meta tags for Apple devices -->\r\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\r\n    <meta name=\"mobile-web-app-capable\" content=\"yes\" />\r\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" />\r\n    <meta name=\"apple-mobile-web-app-title\" content=\"SHMONG\" />\r\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n    <style>\n      #hard-coded-banner {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        z-index: 9999999;\n        background-color: #1a1a1a;\n        color: white;\n        text-align: center;\n        font-size: 12px;\n        height: 22px;\n        line-height: 22px;\n        font-weight: 600;\n        font-family: 'Inter', sans-serif;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n      }\n      body {\n        padding-top: 22px;\n      }\n    </style>\r\n  </head>\r\n  <body>\r\n    <div id=\"hard-coded-banner\"></div>\r\n    <div id=\"root\"></div>\r\n    <script type=\"module\" src=\"/src/main.tsx\"></script>\r\n    <script>\r\n      // Update the hard-coded banner with build info\r\n      window.addEventListener('load', function() {\r\n        setTimeout(function() {\r\n          var banner = document.getElementById('hard-coded-banner');\r\n          if (banner) {\r\n            // Try to get version from React app's state, or use a fallback\r\n            var buildInfoText = 'Version: ';\r\n            \r\n            // Check if version data is available in window\r\n            if (window.__APP_VERSION__) {\r\n              buildInfoText += window.__APP_VERSION__;\r\n            } else {\r\n              const now = new Date();\r\n              const dateStr = now.toLocaleDateString();\r\n              const timeStr = now.toLocaleTimeString();\r\n              buildInfoText += `1.0.0 (${dateStr} ${timeStr})`;\r\n            }\r\n            \r\n            banner.textContent = buildInfoText;\r\n          }\r\n        }, 500);\r\n      });\r\n    </script>\r\n  </body>\r\n</html>"
Testing GET /api/matches/historical?userId=test-user-id...
Status: 200
Response: "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\n    <script type=\"module\">\nimport RefreshRuntime from \"/@react-refresh\"\nRefreshRuntime.injectIntoGlobalHook(window)\nwindow.$RefreshReg$ = () => {}\nwindow.$RefreshSig$ = () => (type) => type\nwindow.__vite_plugin_react_preamble_installed__ = true\n</script>\n\n    <script type=\"module\" src=\"/@vite/client\"></script>\n\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, viewport-fit=cover\" />\r\n    <meta name=\"theme-color\" content=\"#ffffff\" />\r\n\r\n    <!-- Cache Control Headers -->\r\n    <meta http-equiv=\"Cache-Control\" content=\"no-cache, no-store, must-revalidate\" />\r\n    <meta http-equiv=\"Pragma\" content=\"no-cache\" />\r\n    <meta http-equiv=\"Expires\" content=\"0\" />\r\n\r\n    <title>SHMONG - Find Your Event Photos Instantly</title>\r\n    <meta name=\"description\" content=\"SHMONG uses advanced facial recognition to help you find your photos from events instantly.\" />\r\n    <!-- iOS PWA meta tags for Apple devices -->\r\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\r\n    <meta name=\"mobile-web-app-capable\" content=\"yes\" />\r\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" />\r\n    <meta name=\"apple-mobile-web-app-title\" content=\"SHMONG\" />\r\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n    <style>\n      #hard-coded-banner {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        z-index: 9999999;\n        background-color: #1a1a1a;\n        color: white;\n        text-align: center;\n        font-size: 12px;\n        height: 22px;\n        line-height: 22px;\n        font-weight: 600;\n        font-family: 'Inter', sans-serif;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n      }\n      body {\n        padding-top: 22px;\n      }\n    </style>\r\n  </head>\r\n  <body>\r\n    <div id=\"hard-coded-banner\"></div>\r\n    <div id=\"root\"></div>\r\n    <script type=\"module\" src=\"/src/main.tsx\"></script>\r\n    <script>\r\n      // Update the hard-coded banner with build info\r\n      window.addEventListener('load', function() {\r\n        setTimeout(function() {\r\n          var banner = document.getElementById('hard-coded-banner');\r\n          if (banner) {\r\n            // Try to get version from React app's state, or use a fallback\r\n            var buildInfoText = 'Version: ';\r\n            \r\n            // Check if version data is available in window\r\n            if (window.__APP_VERSION__) {\r\n              buildInfoText += window.__APP_VERSION__;\r\n            } else {\r\n              const now = new Date();\r\n              const dateStr = now.toLocaleDateString();\r\n              const timeStr = now.toLocaleTimeString();\r\n              buildInfoText += `1.0.0 (${dateStr} ${timeStr})`;\r\n            }\r\n            \r\n            banner.textContent = buildInfoText;\r\n          }\r\n        }, 500);\r\n      });\r\n    </script>\r\n  </body>\r\n</html>"
Testing GET /api/matches/recent?userId=test-user-id...
Status: 200
Response: "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\n    <script type=\"module\">\nimport RefreshRuntime from \"/@react-refresh\"\nRefreshRuntime.injectIntoGlobalHook(window)\nwindow.$RefreshReg$ = () => {}\nwindow.$RefreshSig$ = () => (type) => type\nwindow.__vite_plugin_react_preamble_installed__ = true\n</script>\n\n    <script type=\"module\" src=\"/@vite/client\"></script>\n\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, viewport-fit=cover\" />\r\n    <meta name=\"theme-color\" content=\"#ffffff\" />\r\n\r\n    <!-- Cache Control Headers -->\r\n    <meta http-equiv=\"Cache-Control\" content=\"no-cache, no-store, must-revalidate\" />\r\n    <meta http-equiv=\"Pragma\" content=\"no-cache\" />\r\n    <meta http-equiv=\"Expires\" content=\"0\" />\r\n\r\n    <title>SHMONG - Find Your Event Photos Instantly</title>\r\n    <meta name=\"description\" content=\"SHMONG uses advanced facial recognition to help you find your photos from events instantly.\" />\r\n    <!-- iOS PWA meta tags for Apple devices -->\r\n    <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\r\n    <meta name=\"mobile-web-app-capable\" content=\"yes\" />\r\n    <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\" />\r\n    <meta name=\"apple-mobile-web-app-title\" content=\"SHMONG\" />\r\n    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n    <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n    <style>\n      #hard-coded-banner {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        z-index: 9999999;\n        background-color: #1a1a1a;\n        color: white;\n        text-align: center;\n        font-size: 12px;\n        height: 22px;\n        line-height: 22px;\n        font-weight: 600;\n        font-family: 'Inter', sans-serif;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n      }\n      body {\n        padding-top: 22px;\n      }\n    </style>\r\n  </head>\r\n  <body>\r\n    <div id=\"hard-coded-banner\"></div>\r\n    <div id=\"root\"></div>\r\n    <script type=\"module\" src=\"/src/main.tsx\"></script>\r\n    <script>\r\n      // Update the hard-coded banner with build info\r\n      window.addEventListener('load', function() {\r\n        setTimeout(function() {\r\n          var banner = document.getElementById('hard-coded-banner');\r\n          if (banner) {\r\n            // Try to get version from React app's state, or use a fallback\r\n            var buildInfoText = 'Version: ';\r\n            \r\n            // Check if version data is available in window\r\n            if (window.__APP_VERSION__) {\r\n              buildInfoText += window.__APP_VERSION__;\r\n            } else {\r\n              const now = new Date();\r\n              const dateStr = now.toLocaleDateString();\r\n              const timeStr = now.toLocaleTimeString();\r\n              buildInfoText += `1.0.0 (${dateStr} ${timeStr})`;\r\n            }\r\n            \r\n            banner.textContent = buildInfoText;\r\n          }\r\n        }, 500);\r\n      });\r\n    </script>\r\n  </body>\r\n</html>"
Testing POST /api/photos/upload...
Status: 404
Response: ""

=== Test Summary ===
Login endpoint: Not found (404)
Register endpoint: Not found (404)
Face registration endpoint: Not found (404)
Face data endpoint: Found (200)
Historical matches endpoint: Found (200)
Recent matches endpoint: Found (200)
Photo upload endpoint: Not found (404)

Overall Result: 3/7 endpoints available
❌ Some API endpoints are missing or not responding correctly.

=== Test Completed ===
